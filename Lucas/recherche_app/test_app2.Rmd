---
title: "Untitled"
author: "Chaveneau Lucas"
date: "05/03/2022"
output: html_document
---

```{r}
library(reticulate)
library(tidyverse)
library(tidyr)
library(DT)
```

```{r}
py_install('bs4')
py_install('requests')
```


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Python

```{r}
Sys.which("python")
```


```{r}
np <- import('bs4', as = 'bs')
```



########################## Table databale ############################



```{r}
data <- readRDS('data_jeux.rds')
```


```{r}
data[1:3,1:3] %>% datatable(rownames = T,
                            extensions = c('Select'),
                            selection = "first",
                            options = list(
                              select = list(style = 'os', items = 'row'), 
                              dom = 't',
                              ordering = F)) 
```


```{r}
 paste0('<img alt="Air Hockey Android Front Cover" border="0" src="https://www.mobygames.com/images/covers/s/264995-air-hockey-android-front-cover.jpg" height="120" width="120">')
```




```{r}
data[1,1:3] %>%
  mutate(image =  paste0("<img src=\"", src="https://www.mobygames.com/images/covers/s/264995-air-hockey-android-front-cover.jpg", "\" height=\"80\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"", "bijo", "\"></img>")) %>% 
  datatable(escape = F)
```
 src="/images/covers/l/264995-air-hockey-android-front-cover.png"
 
 Il risque peut etre d'avoir des problème pour la selection lorsq'uon passera sur server. Peut etre utilisé `reactable`
 
```{r}
data[1:3,1:3] %>% datatable(rownames = T,
                            extensions = c('Select'),
                            selection = "first",
                            options = list(
                              select = list(style = 'os', items = 'row'), 
                              dom = 't',
                              ordering = F)) 
```
 
```{r}
data[2,]
```
 
```{r}
data[,1:3] %>% slice(1:3) %>%
        select(everything()) %>% 
        datatable(rownames = F,
                  extensions = c('Select'),
                  selection = "single",
                  options = list(
                    select = list(style = 'os', items = 'row'), 
                    dom = 't',
                    ordering = F),
                  escape = F) 
```
 
```{r}
data$Annee <- as.factor(data$Annee)
```

```{r}
levels(data$Annee)
```

```{r}
data$platform <- as.factor(data$platform)
levels(data$platform)
```
 
 
```{r}
c(colnames(data))
```
 
```{r}
data %>%arrange(desc(reviews)) %>% slice(1:3) %>% select(Name, reviews)
```
 
```{r}
tablo <-data %>%
  filter(as.numeric(as.character(Annee)) >= 1980) %>%
  filter(as.numeric(as.character(Annee)) <= 1950)
```
 
```{r}
tablo <- data
tablo %>% 
    filter( ==1)
```

```{r}
variable_genre <- reactive({switch(
    genre1,
    "Action" = df2$Action,
    "Aventure" = df2$Aventure,
    "Puzzle" = df2$Puzzle,
    "Racing" = df2$Racing,
    "Education" = df2$Educational,
    "Compilation" = df2$Compilation,
    "Simulation" = df2$Simulation,
    "Sports" = df2$Sports,
    "Strategie" = df2$Strategie,
    "Role_play" = df2$Role_play,
    "Edition_special" = df2$Edition_special,
    "DLC" = df2$DLC)
  }) 
```

```{r}
genre1 = c('Action', 'Aventure')
```

```{r}
liste = NULL
for (element in genre1){
  liste = c(liste, element)
}
```


```{r}

switch_manuel <- function(x){switch(x, "2" = "2", "3" = "3")}
sapply(c("2","3"), switch_manuel)
```

```{r}
data %>% 
  mutate(choix = data %>% select(c(Action, Puzzle)) %>% rowSums()) %>% 
  filter(choix > 0)

data %>% 
  mutate(choix = rowSums(select(data$Troisieme_personne, data$Derriere)))

data %>% 
  filter(rowwise(c(data$Strategie, data$Sports)) > 0)

data %>% 
  filter(rowsum(Action, Puzzle) > 0)

data %>% 
  mutate(truc = rowwise(Action))
```

```{r}

```


```{r}
mutate(data, choix = select(data, ))
```

```{r}
select(data$Action)
```

```{r}
paste0('df')
```
```{r}
data %>% 
  rowwise() %>% 
  mutate(truc = sum(c(data$Action, data$Puzzle)))
```

```{r}
mutate(data, )
```

